(this["webpackJsonpshoppies-omdb-api"]=this["webpackJsonpshoppies-omdb-api"]||[]).push([[0],{11:function(e,t,a){e.exports=a(23)},16:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(9),i=a.n(o),r=(a(16),a(6)),c=a(1),l=a(2),m=a(4),u=a(3),v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).myChangeHandler=function(e){n.setState({movieName:e.target.value})},n.mySubmitHandler=function(e){e.preventDefault(),n.props.onSearcMovieName(n.state.movieName)},n.state={movieName:""},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.mySubmitHandler},s.a.createElement("label",null,"Movie Title:"),s.a.createElement("input",{type:"text",name:"movieName",onChange:this.myChangeHandler,placeholder:"Movie name..."}),s.a.createElement("input",{type:"submit",value:"Search"}),"False"===this.props.serverResponse.Response&&s.a.createElement("div",null,s.a.createElement("p",null,"OMDB Response: ",this.props.serverResponse.Error),s.a.createElement("p",null,"Try againe!")))}}]),a}(n.Component),p=a(5),d=a(10),h=a.n(d),b=(a(22),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handlePageClick=function(e){var t=e.selected;n.props.currentPageHandler(t)},n.state={currentPage:n.props.currentPage,pageCount:0},n.handlePageClick=n.handlePageClick.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({pageCount:this.props.totalPages})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(h.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))}}]),a}(n.Component)),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).currentPageHandler=function(e){n.setState({currentPage:e},(function(){n.fetchReqest()}))},n.clickHandler=function(e){n.props.movieNominationshandler(e),n.setState({disabledButtons:n.props.disabledButtons})},n.omdbUrl=function(){return n.state.basicUrl.concat(n.state.apikey).concat("&type=movie&s=").concat(n.props.movieName).concat("&page=").concat(n.state.currentPage+1)},n.fetchReqest=function(){fetch(n.omdbUrl(),[]).then((function(e){return e.json()})).then((function(e){"true"===e.Response.toLowerCase()?(n.setState({movieList:e.Search}),n.props.serverResponseHandler(e),n.setState({totalPages:Math.ceil(n.props.serverResponse.totalResults/n.state.resultPerPage)})):(n.setState({movieList:[]}),n.setState({currentPage:0}),n.setState({totalPages:0}),n.props.serverResponseHandler(e))}),(function(e){n.setState({error:e})}))},n.state={movieList:[],currentPage:0,totalPages:0,resultPerPage:10,disabledButtons:[],apikey:"7535d36f",basicUrl:"https://www.omdbapi.com/?apikey="},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.movieName!==e.movieName&&this.fetchReqest()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"column result"},this.props.movieName?s.a.createElement("h2",null,'Results for "',this.props.movieName,'"'):s.a.createElement("h2",null,"Result"),s.a.createElement("div",{className:"result list"},s.a.createElement("ul",null,this.state.movieList.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("div",{className:"movie-img",style:{backgroundImage:"url(".concat(t.Poster,")")}}),s.a.createElement("p",{className:"movie-dscr"},t.Title," (",t.Year,")"),s.a.createElement("button",{onClick:function(){e.clickHandler(t)},disabled:e.props.disabledButtons.includes(t.imdbID)},"Nominate"))})))),0!==this.state.totalPages&&s.a.createElement(b,{currentPage:this.state.currentPage,currentPageHandler:this.currentPageHandler,totalPages:this.state.totalPages}))}}]),a}(n.Component),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).clickHandler=function(e){n.props.movieRemoveNominhandler(e)},n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"column nomination"},s.a.createElement("h2",null,"Nominations"),this.props.isFiveNominants&&s.a.createElement("div",{className:"five nominates"},s.a.createElement("h3",null,"Thank you for your choice the 5 Nominates!")),this.props.movieNominants.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("div",{className:"movie-img",style:{backgroundImage:"url(".concat(t.Poster,")")}}),s.a.createElement("p",{className:"movie-dscr"},t.Title," (",t.Year,") Nominate"),s.a.createElement("button",{onClick:function(){e.clickHandler(t.imdbID)}},"Remove"))})))}}]),a}(n.Component),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={serverResponse:{Response:"",Error:"",Search:[],totalResults:""},movieName:"",movieNominants:[],disabledButtons:[],isFiveNominants:!1},e.serverResponseHandler=function(t){e.setState({serverResponse:t})},e.movieNamehandler=function(t){e.setState({movieName:t})},e.movieNominationshandler=function(t){e.state.movieNominants.length<=4?e.setState({movieNominants:[].concat(Object(r.a)(e.state.movieNominants),[t]),disabledButtons:[].concat(Object(r.a)(e.state.disabledButtons),[t.imdbID])}):e.setState({isFiveNominants:!0}),e.state.movieNominants.length<=4?e.setState({isFiveNominants:!1}):e.setState({isFiveNominants:!0})},e.movieRemoveNominhandler=function(t){var a=Object(r.a)(e.state.movieNominants);-1!==t&&(a.splice(t,1),e.setState({movieNominants:a}),e.setState({isFiveNominants:!1})),e.setState({disabledButtons:e.state.disabledButtons.filter((function(e){return e!==t}))})},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"The Shoppies"),s.a.createElement(v,{onSearcMovieName:this.movieNamehandler,serverResponse:this.state.serverResponse}),s.a.createElement("div",{className:"row result nomination"},s.a.createElement(N,{serverResponseHandler:this.serverResponseHandler,movieName:this.state.movieName,movieNominationshandler:this.movieNominationshandler,disabledButtons:this.state.disabledButtons,serverResponse:this.state.serverResponse}),s.a.createElement(g,{movieNominants:this.state.movieNominants,isFiveNominants:this.state.isFiveNominants,movieRemoveNominhandler:this.movieRemoveNominhandler})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.4899d452.chunk.js.map